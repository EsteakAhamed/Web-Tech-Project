<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HealWell Hospital - Add Doctor</title>
  <link rel="stylesheet" href="style/doctorAdd.css">
</head>

<body>
  <div class="container">
    <aside class="sidebar">
      <div class="profile">
        <img src="assets/profile.png" alt="Profile">
        <h2>Administrator</h2>
      </div>
      <button class="logout">Logout</button>
      <nav class="menu">
        <ul>
          <li><a href="admin.html">Dashboard</a></li>
          <li class="active"><a href="doctor.html">Doctor</a></li>
          <li><a href="patient.html">Patient</a></li>
          <li><a href="feedback.html">Feedbacks</a></li>
        </ul>
      </nav>
    </aside>
    <main class="main">
      <h1>Add New Doctor</h1>
      <form class="add-form" id="addDoctorForm" onsubmit="return validateForm(event)">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name">
        <div class="error" id="nameError"></div>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email">
        <div class="error" id="emailError"></div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password">
        <div class="error" id="passwordError"></div>
        <label for="speciality">Speciality:</label>
        <select id="speciality" name="speciality">
          <option value="">Select Speciality</option>
          <option value="cardiology">Cardiology</option>
          <option value="neurology">Neurology</option>
          <option value="pediatrics">Pediatrics</option>
        </select>
        <div class="error" id="specialityError"></div>
        <label for="regnumber">Registration Number:</label>
        <input type="text" id="regnumber" name="regnumber">
        <div class="error" id="regnumberError"></div>
        <label for="salary">Salary:</label>
        <input type="number" id="salary" name="salary">
        <div class="error" id="salaryError"></div>
        <label for="picture">Choose Picture:</label>
        <input type="file" id="picture" name="picture" accept="image/*">
        <div class="error" id="pictureError"></div>
        <button type="submit">Add</button>
      </form>
    </main>
  </div>
  <script>
    function validateForm(event) {
      event.preventDefault();

      document.getElementById('nameError').textContent = '';
      document.getElementById('emailError').textContent = '';
      document.getElementById('passwordError').textContent = '';
      document.getElementById('specialityError').textContent = '';
      document.getElementById('regnumberError').textContent = '';
      document.getElementById('salaryError').textContent = '';
      document.getElementById('pictureError').textContent = '';

      let isValid = true;

      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      const speciality = document.getElementById('speciality').value.trim();
      const regnumber = document.getElementById('regnumber').value.trim();
      const salary = document.getElementById('salary').value.trim();

      const nameRegex = /^[A-Za-z\s]+$/;
      if (!nameRegex.test(name)) {
        document.getElementById('nameError').textContent = 'Name must contain only alphabets';
        isValid = false;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        document.getElementById('emailError').textContent = 'Please enter a valid email address';
        isValid = false;
      }

      const passwordRegex = /^.{8,12}$/;
      if (!passwordRegex.test(password)) {
        document.getElementById('passwordError').textContent = 'Password must be between 8 and 12 characters long';
        isValid = false;
      }

      if (!speciality) {
        document.getElementById('specialityError').textContent = 'Please select a speciality';
        isValid = false;
      }

      const regnumberRegex = /^[A-Z0-9]{6}$/;
      const hasLetter = /[A-Z]/.test(regnumber);
      const hasNumber = /\d/.test(regnumber);
      if (!regnumberRegex.test(regnumber) || !hasLetter || !hasNumber) {
        document.getElementById('regnumberError').textContent = 'Registration number must be exactly 6 characters with uppercase letters and numbers';
        isValid = false;
      }

      if (!salary || parseFloat(salary) <= 0) {
        document.getElementById('salaryError').textContent = 'Salary must postive number';
        isValid = false;
      }

      const picture = document.getElementById('picture').files[0];
      if (!picture) {
        document.getElementById('pictureError').textContent = 'Please select an image file';
        isValid = false;
      } else if (!picture.type.startsWith('image/')) {
        document.getElementById('pictureError').textContent = 'File must be an image';
        isValid = false;
      }

      if (isValid) {
        alert('Doctor added successfully!');
      }

      return isValid;
    }
  </script>
</body>

</html>